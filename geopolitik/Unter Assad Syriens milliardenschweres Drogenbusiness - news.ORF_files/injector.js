(()=>{"use strict";const t=document.location.host;function n(n,e){const o=new URL("./main.WnnnhSzJ0oiKQx1WHX9aK.js",e.src).toString(),i=n.querySelectorAll(".embed.migsys > [data-mig-url]");if(i.length<=0)return;let r=Promise.resolve(!0);var c;0==function(t){const n=document.head.getElementsByTagName("script");for(let e=0;e<n.length;e+=1){let o=n.item(e);if(o.hasAttribute("src")&&o.getAttribute("src").endsWith(t))return!0}return!1}(o)&&(c=o,r=new Promise((function(t){const n=document.createElement("script");n.type="text/javascript",n.async=!0,n.addEventListener("load",(function(){t(!0)})),n.src=c,document.head.appendChild(n)}))),r.then((function(){i.forEach((function(n){1==n.childElementCount&&"IMG"===n.firstElementChild.tagName?(n.removeChild(n.firstElementChild),function(n){let e=n.dataset.migUrl;0==e.endsWith("/")&&(e+="/");const o=new URL("./config.json",e);o.searchParams.set("origin",t),fetch(o.toString(),{mode:"cors"}).then((function(t){return t.json()})).then((function(o){const i=new URL("./data.csv",e);i.searchParams.set("origin",t),window.oon.mig(n,i.toString(),o)}))}(n)):console.log("mig: element should only contain one img element, ignoring",n)}))}))}if(window.Promise&&window.fetch&&document.currentScript){const t=document.currentScript,e=document.querySelector(".story-content");e&&t.src.indexOf("automojo")>-1&&n(e,t),window.oonInitMig=function(e){return n(e,t)}}})();